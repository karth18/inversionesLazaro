<!DOCTYPE html>
<html lang="en"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{master.html}">
<head>
    <meta charset="UTF-8">
    <title>Categoría</title>
</head>
<body>
<div class="container" layout:fragment="content">
    <h1>Listado de Categoría</h1>

    <a th:href="@{/admin/categoria/nuevo}">Nuevo</a>
    <a th:href="@{/admin/categoria/habilitar}">Habilitar</a>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>Id</th>
            <th>Nombre</th>
            <th>Estado</th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="cate : ${categoria} ">
            <td th:text="${cate.id}"></td>
            <td th:text="${cate.nombre}"></td>
            <td th:text="${cate.estado? 'habilitado': 'deshabilitado'}"></td>
            <td>
                <a th:href="@{/admin/categoria/editar/{id}(id=${cate.id})}" title="Editar categoria" class="btn btn-primary"> <i class="fa fa-edit"></i></a>
                <a href="" title="Eliminar Categoria" onclick="return eliminarCate(this)" class="btn btn-danger"> <i class="fa fa-trash"></i></a>
                <form th:action="@{/admin/categoria/eliminar/{id}(id=${cate.id})}" method="get" class="d-none"></form>
            </td>
        </tr>
        </tbody>
    </table>


</div>

<div layout:fragment="scripts">
    <script>
        function eliminarCate(etiqueta)
        {
            var ok = confirm('¿Estas seguro de Desactivar la categoria?');

            if(ok)
            {
                etiqueta.nextElementSibling.submit();
            }
            return false;
        }
    </script>
</div>

</body>
</html>