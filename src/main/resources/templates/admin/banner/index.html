<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{master.html}">
<head>
    <title>Gestión de Banners</title>

</head>
<body>
<div class="container" layout:fragment="content">
    <h2 class="mb-3">Gestión de Banners del Home</h2>

    <a th:href="@{/admin/banners/nuevo}" class="btn btn-primary mb-3">
        <i class="fas fa-plus"></i> Nuevo Banner
    </a>

<!--    <div th:if="${msgError != null}" class="alert alert-danger alert-dismissible fade show" role="alert">-->
<!--        [[${msgError}]]-->
<!--        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>-->
<!--    </div>-->

    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>Título (Referencia)</th>
            <th>Imagen (Fondo)</th>
            <th>Activo</th>
            <th>Orden</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="banner : ${banners}">
            <td th:text="${banner.id}"></td>
            <td th:text="${banner.titulo}"></td>
            <td>
                <img th:src="@{${banner.imagenFondoUrl}}" th:alt="${banner.titulo}" style="width: 150px; height: auto; object-fit: cover;">
            </td>
            <td>
                <span th:if="${banner.estaActivo}" class="badge bg-success">Sí</span>
                <span th:unless="${banner.estaActivo}" class="badge bg-secondary">No</span>
            </td>
            <td th:text="${banner.orden}"></td>
            <td>
                <a th:href="@{/admin/banners/editar/{id}(id=${banner.id})}" class="btn btn-sm btn-warning" title="Editar">
                    <i class="fas fa-pencil-alt"></i>
                </a>

                <a th:if="${banner.estaActivo}"
                   th:href="@{/admin/banners/eliminar/{id}(id=${banner.id})}"
                   class="btn btn-sm btn-danger"
                   title="Desactivar"
                   onclick="return confirm('¿Estás seguro de DESACTIVAR este banner?');">
                    <i class="fas fa-eye-slash"></i> </a>

                <a th:unless="${banner.estaActivo}"
                   th:href="@{/admin/banners/habilitar/{id}(id=${banner.id})}"
                   class="btn btn-sm btn-success"
                   title="Activar">
                    <i class="fas fa-eye"></i> </a>

            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(banners)}">
            <td colspan="6" class="text-center">No hay banners creados.</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>